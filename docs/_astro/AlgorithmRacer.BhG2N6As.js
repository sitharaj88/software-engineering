import{j as e}from"./jsx-runtime.ClP7wGfN.js";import{r as p}from"./index.DK-fsZOb.js";import{m as S}from"./proxy.i6brGrIQ.js";const u={bubble:"Bubble Sort",selection:"Selection Sort",insertion:"Insertion Sort",merge:"Merge Sort",quick:"Quick Sort",heap:"Heap Sort"},y={bubble:"#ef4444",selection:"#f59e0b",insertion:"#10b981",merge:"#3b82f6",quick:"#8b5cf6",heap:"#ec4899"};function R(l){let d=0,a=0;const t=[...l];for(let o=0;o<t.length-1;o++)for(let i=0;i<t.length-o-1;i++)d++,t[i]>t[i+1]&&([t[i],t[i+1]]=[t[i+1],t[i]],a++);return{comparisons:d,swaps:a}}function A(l){let d=0,a=0;const t=[...l];for(let o=0;o<t.length-1;o++){let i=o;for(let s=o+1;s<t.length;s++)d++,t[s]<t[i]&&(i=s);i!==o&&([t[o],t[i]]=[t[i],t[o]],a++)}return{comparisons:d,swaps:a}}function C(l){let d=0,a=0;const t=[...l];for(let o=1;o<t.length;o++){const i=t[o];let s=o-1;for(;s>=0&&t[s]>i;)d++,t[s+1]=t[s],a++,s--;d++,t[s+1]=i}return{comparisons:d,swaps:a}}function F(l){let d=0,a=0;function t(o){if(o.length<=1)return o;const i=Math.floor(o.length/2),s=t(o.slice(0,i)),g=t(o.slice(i)),c=[];let f=0,h=0;for(;f<s.length&&h<g.length;)d++,s[f]<=g[h]?c.push(s[f++]):(c.push(g[h++]),a++);for(;f<s.length;)c.push(s[f++]);for(;h<g.length;)c.push(g[h++]);return c}return t([...l]),{comparisons:d,swaps:a}}function T(l){let d=0,a=0;function t(o,i,s){if(i>=s)return;const g=o[s];let c=i-1;for(let h=i;h<s;h++)d++,o[h]<g&&(c++,[o[c],o[h]]=[o[h],o[c]],a++);[o[c+1],o[s]]=[o[s],o[c+1]],a++;const f=c+1;t(o,i,f-1),t(o,f+1,s)}return t([...l],0,l.length-1),{comparisons:d,swaps:a}}function M(l){let d=0,a=0;const t=[...l];function o(i,s){let g=s;const c=2*s+1,f=2*s+2;c<i&&(d++,t[c]>t[g]&&(g=c)),f<i&&(d++,t[f]>t[g]&&(g=f)),g!==s&&([t[s],t[g]]=[t[g],t[s]],a++,o(i,g))}for(let i=Math.floor(t.length/2)-1;i>=0;i--)o(t.length,i);for(let i=t.length-1;i>0;i--)[t[0],t[i]]=[t[i],t[0]],a++,o(i,0);return{comparisons:d,swaps:a}}const B={bubble:R,selection:A,insertion:C,merge:F,quick:T,heap:M};function L(l=640){const[d,a]=p.useState(!1);return p.useEffect(()=>{const t=window.matchMedia(`(max-width: ${l}px)`);a(t.matches);const o=i=>a(i.matches);return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[l]),d}function O(){const[l,d]=p.useState(500),[a,t]=p.useState(new Set(["bubble","merge","quick"])),[o,i]=p.useState([]),[s,g]=p.useState(!1),[c,f]=p.useState("random"),h=L(),v=p.useCallback(()=>{let r;switch(c){case"sorted":r=Array.from({length:l},(n,m)=>m);break;case"reversed":r=Array.from({length:l},(n,m)=>l-m);break;case"nearly":{r=Array.from({length:l},(n,m)=>m);for(let n=0;n<l*.05;n++){const m=Math.floor(Math.random()*l),x=Math.floor(Math.random()*l);[r[m],r[x]]=[r[x],r[m]]}break}default:r=Array.from({length:l},()=>Math.floor(Math.random()*l*10))}return r},[l,c]),b=p.useCallback(()=>{g(!0),i([]);const r=v(),n=[];setTimeout(()=>{for(const m of a){const x=performance.now(),{comparisons:k,swaps:z}=B[m](r),W=performance.now()-x;n.push({algorithm:m,name:u[m],time:W,comparisons:k,swaps:z,color:y[m]})}n.sort((m,x)=>m.time-x.time),i(n),g(!1)},100)},[a,v]),w=r=>{t(n=>{const m=new Set(n);return m.has(r)?m.size>1&&m.delete(r):m.add(r),m})},j=Math.max(...o.map(r=>r.time),1);return e.jsxs("div",{style:{border:"1px solid var(--sl-color-gray-5)",borderRadius:12,overflow:"hidden",margin:"1.5rem 0"},children:[e.jsxs("div",{style:{padding:"1rem 1.25rem",borderBottom:"1px solid var(--sl-color-gray-5)",background:"var(--sl-color-gray-6)"},children:[e.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:700},children:"Algorithm Race"}),e.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--sl-color-gray-3)"},children:"Compare sorting algorithms head-to-head with real performance metrics"})]}),e.jsxs("div",{style:{padding:"1.25rem"},children:[e.jsx("div",{style:{marginBottom:"1rem",...h?{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.4rem"}:{display:"flex",gap:"0.4rem",flexWrap:"wrap"}},children:Object.keys(u).map(r=>e.jsx("button",{onClick:()=>w(r),style:{padding:h?"0.55rem 0.5rem":"0.35rem 0.75rem",borderRadius:999,border:a.has(r)?`2px solid ${y[r]}`:"1px solid var(--sl-color-gray-4)",background:a.has(r)?`${y[r]}15`:"transparent",color:a.has(r)?y[r]:"var(--sl-color-gray-3)",cursor:"pointer",fontSize:"0.72rem",fontWeight:600,minHeight:h?44:void 0,textAlign:"center"},children:u[r]},r))}),h?e.jsxs("div",{style:{background:"var(--sl-color-gray-6)",borderRadius:8,padding:"1rem",marginBottom:"1.25rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"0.7rem",fontWeight:700,color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.35rem"},children:"Array Size"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("input",{type:"range",min:100,max:5e3,step:100,value:l,onChange:r=>d(+r.target.value),style:{flex:1}}),e.jsx("span",{style:{fontFamily:"monospace",fontWeight:700,fontSize:"0.85rem",minWidth:45},children:l})]})]}),e.jsx("div",{style:{height:1,background:"var(--sl-color-gray-5)"}}),e.jsxs("div",{children:[e.jsx("span",{style:{fontSize:"0.7rem",fontWeight:700,color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.05em",display:"block",marginBottom:"0.35rem"},children:"Data Pattern"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.3rem"},children:["random","sorted","reversed","nearly"].map(r=>e.jsx("button",{onClick:()=>f(r),style:{padding:"0.5rem 0.25rem",borderRadius:4,border:c===r?"2px solid #0066cc":"1px solid var(--sl-color-gray-4)",background:c===r?"#0066cc":"transparent",color:c===r?"#fff":"var(--sl-color-text)",cursor:"pointer",fontSize:"0.72rem",fontWeight:600,textAlign:"center"},children:r.charAt(0).toUpperCase()+r.slice(1)},r))})]}),e.jsx("div",{style:{height:1,background:"var(--sl-color-gray-5)"}}),e.jsx("button",{onClick:b,disabled:s,style:{width:"100%",padding:"0.7rem",borderRadius:8,border:"none",background:s?"#6b7280":"#10b981",color:"#fff",cursor:s?"not-allowed":"pointer",fontWeight:700,fontSize:"0.95rem",minHeight:48},children:s?"Racing...":"Start Race!"})]}):e.jsxs("div",{style:{background:"var(--sl-color-gray-6)",borderRadius:8,padding:"1rem",marginBottom:"1.25rem",display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[e.jsx("span",{style:{fontSize:"0.7rem",fontWeight:700,color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Array Size"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("input",{type:"range",min:100,max:5e3,step:100,value:l,onChange:r=>d(+r.target.value),style:{width:140}}),e.jsx("span",{style:{fontFamily:"monospace",fontWeight:700,fontSize:"0.85rem",minWidth:45},children:l})]})]}),e.jsx("div",{style:{width:1,height:28,background:"var(--sl-color-gray-4)",flexShrink:0}}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[e.jsx("span",{style:{fontSize:"0.7rem",fontWeight:700,color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Data Pattern"}),e.jsx("div",{style:{display:"flex",gap:"0.3rem"},children:["random","sorted","reversed","nearly"].map(r=>e.jsx("button",{onClick:()=>f(r),style:{padding:"0.2rem 0.5rem",borderRadius:4,border:c===r?"2px solid #0066cc":"1px solid var(--sl-color-gray-4)",background:c===r?"#0066cc":"transparent",color:c===r?"#fff":"var(--sl-color-text)",cursor:"pointer",fontSize:"0.72rem",fontWeight:600},children:r.charAt(0).toUpperCase()+r.slice(1)},r))})]}),e.jsx("div",{style:{width:1,height:28,background:"var(--sl-color-gray-4)",flexShrink:0}}),e.jsx("button",{onClick:b,disabled:s,style:{padding:"0.5rem 1.5rem",borderRadius:8,border:"none",background:s?"#6b7280":"#10b981",color:"#fff",cursor:s?"not-allowed":"pointer",fontWeight:700,fontSize:"0.9rem"},children:s?"Racing...":"Start Race!"})]}),o.length>0&&e.jsxs("div",{children:[e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginBottom:"1.5rem"},children:o.map((r,n)=>h?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.35rem",padding:"0.6rem",background:"var(--sl-color-gray-6)",borderRadius:8},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("div",{style:{width:28,height:28,borderRadius:"50%",background:n===0?"#f59e0b":"var(--sl-color-gray-5)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:900,color:n===0?"#fff":"var(--sl-color-gray-3)",flexShrink:0},children:n===0?"ðŸ†":n+1}),e.jsx("span",{style:{fontSize:"0.85rem",fontWeight:600,color:r.color,flex:1},children:r.name}),e.jsxs("span",{style:{fontFamily:"monospace",fontWeight:700,fontSize:"0.8rem"},children:[r.time.toFixed(2),"ms"]})]}),e.jsx("div",{style:{height:24,background:"var(--sl-color-gray-5)",borderRadius:4,overflow:"hidden"},children:e.jsx(S.div,{initial:{width:0},animate:{width:`${Math.max(5,r.time/j*100)}%`},transition:{duration:.8,ease:"easeOut"},style:{height:"100%",background:r.color,borderRadius:4}})}),e.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--sl-color-gray-3)",display:"flex",gap:"0.75rem"},children:[e.jsxs("span",{children:[r.comparisons.toLocaleString()," comparisons"]}),e.jsxs("span",{children:[r.swaps.toLocaleString()," swaps"]})]})]},r.algorithm):e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("div",{style:{width:28,height:28,borderRadius:"50%",background:n===0?"#f59e0b":"var(--sl-color-gray-5)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:900,color:n===0?"#fff":"var(--sl-color-gray-3)",flexShrink:0},children:n===0?"ðŸ†":n+1}),e.jsx("div",{style:{width:120,fontSize:"0.85rem",fontWeight:600,flexShrink:0,color:r.color},children:r.name}),e.jsx("div",{style:{flex:1,height:28,background:"var(--sl-color-gray-6)",borderRadius:4,overflow:"hidden"},children:e.jsx(S.div,{initial:{width:0},animate:{width:`${Math.max(5,r.time/j*100)}%`},transition:{duration:.8,ease:"easeOut"},style:{height:"100%",background:r.color,borderRadius:4,display:"flex",alignItems:"center",paddingLeft:"0.5rem"},children:e.jsxs("span",{style:{color:"#fff",fontSize:"0.72rem",fontWeight:700,whiteSpace:"nowrap"},children:[r.time.toFixed(2),"ms"]})})}),e.jsxs("div",{style:{fontSize:"0.72rem",color:"var(--sl-color-gray-3)",minWidth:140,textAlign:"right"},children:[r.comparisons.toLocaleString()," cmp / ",r.swaps.toLocaleString()," swp"]})]},r.algorithm))}),h?e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:o.map((r,n)=>e.jsxs("div",{style:{border:"1px solid var(--sl-color-gray-5)",borderRadius:8,padding:"0.75rem",background:"var(--sl-color-gray-6)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[e.jsx("span",{style:{fontWeight:700,fontSize:"0.85rem"},children:n===0?"ðŸ¥‡":n===1?"ðŸ¥ˆ":n===2?"ðŸ¥‰":`#${n+1}`}),e.jsx("span",{style:{fontWeight:600,color:r.color,fontSize:"0.85rem"},children:r.name})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.65rem",color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.03em",marginBottom:"0.15rem"},children:"Time"}),e.jsxs("div",{style:{fontFamily:"monospace",fontSize:"0.82rem",fontWeight:600},children:[r.time.toFixed(3),"ms"]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.65rem",color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.03em",marginBottom:"0.15rem"},children:"vs Winner"}),e.jsx("div",{style:{fontFamily:"monospace",fontSize:"0.82rem",fontWeight:600,color:n===0?"#10b981":"#ef4444"},children:n===0?"â€”":`${(r.time/o[0].time).toFixed(1)}x slower`})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.65rem",color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.03em",marginBottom:"0.15rem"},children:"Comparisons"}),e.jsx("div",{style:{fontFamily:"monospace",fontSize:"0.82rem",fontWeight:600},children:r.comparisons.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.65rem",color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.03em",marginBottom:"0.15rem"},children:"Swaps"}),e.jsx("div",{style:{fontFamily:"monospace",fontSize:"0.82rem",fontWeight:600},children:r.swaps.toLocaleString()})]})]})]},r.algorithm))}):e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.8rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"2px solid var(--sl-color-gray-5)"},children:[e.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Rank"}),e.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Algorithm"}),e.jsx("th",{style:{textAlign:"right",padding:"0.5rem"},children:"Time (ms)"}),e.jsx("th",{style:{textAlign:"right",padding:"0.5rem"},children:"Comparisons"}),e.jsx("th",{style:{textAlign:"right",padding:"0.5rem"},children:"Swaps"}),e.jsx("th",{style:{textAlign:"right",padding:"0.5rem"},children:"vs Winner"})]})}),e.jsx("tbody",{children:o.map((r,n)=>e.jsxs("tr",{style:{borderBottom:"1px solid var(--sl-color-gray-5)"},children:[e.jsx("td",{style:{padding:"0.5rem",fontWeight:700},children:n===0?"ðŸ¥‡":n===1?"ðŸ¥ˆ":n===2?"ðŸ¥‰":`#${n+1}`}),e.jsx("td",{style:{padding:"0.5rem",color:r.color,fontWeight:600},children:r.name}),e.jsx("td",{style:{padding:"0.5rem",textAlign:"right",fontFamily:"monospace"},children:r.time.toFixed(3)}),e.jsx("td",{style:{padding:"0.5rem",textAlign:"right",fontFamily:"monospace"},children:r.comparisons.toLocaleString()}),e.jsx("td",{style:{padding:"0.5rem",textAlign:"right",fontFamily:"monospace"},children:r.swaps.toLocaleString()}),e.jsx("td",{style:{padding:"0.5rem",textAlign:"right",fontFamily:"monospace",color:n===0?"#10b981":"#ef4444"},children:n===0?"â€”":`${(r.time/o[0].time).toFixed(1)}x slower`})]},r.algorithm))})]})})]}),o.length===0&&!s&&e.jsx("div",{style:{textAlign:"center",padding:"2rem 1.5rem",color:"var(--sl-color-gray-3)",border:"1px dashed var(--sl-color-gray-5)",borderRadius:8,background:"var(--sl-color-gray-6)"},children:'Select algorithms and click "Start Race" to compare their performance'})]})]})}export{O as default};
