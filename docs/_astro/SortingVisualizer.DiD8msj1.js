import{j as o}from"./jsx-runtime.ClP7wGfN.js";import{r}from"./index.DK-fsZOb.js";import{m as U}from"./proxy.i6brGrIQ.js";const A={default:"#0066cc",comparing:"#f59e0b",swapping:"#ef4444",sorted:"#10b981",pivot:"#8b5cf6"},I={bubble:{name:"Bubble Sort",best:"O(n)",avg:"O(n²)",worst:"O(n²)",space:"O(1)",stable:!0},selection:{name:"Selection Sort",best:"O(n²)",avg:"O(n²)",worst:"O(n²)",space:"O(1)",stable:!1},insertion:{name:"Insertion Sort",best:"O(n)",avg:"O(n²)",worst:"O(n²)",space:"O(1)",stable:!0},merge:{name:"Merge Sort",best:"O(n log n)",avg:"O(n log n)",worst:"O(n log n)",space:"O(n)",stable:!0},quick:{name:"Quick Sort",best:"O(n log n)",avg:"O(n log n)",worst:"O(n²)",space:"O(log n)",stable:!1},heap:{name:"Heap Sort",best:"O(n log n)",avg:"O(n log n)",worst:"O(n log n)",space:"O(1)",stable:!1}};function M(h){return Array.from({length:h},()=>({value:Math.floor(Math.random()*90)+10,state:"default"}))}function J(){const[h,B]=r.useState(30),[w,T]=r.useState(50),[b,E]=r.useState("bubble"),[v,j]=r.useState(()=>M(30)),[m,S]=r.useState(!1),[q,f]=r.useState(0),[F,u]=r.useState(0),[N,O]=r.useState(!1),p=r.useRef(!1),c=r.useCallback(()=>new Promise(e=>setTimeout(e,Math.max(5,200-w*2))),[w]),R=r.useCallback(()=>{p.current=!0,setTimeout(()=>{p.current=!1,j(M(h)),f(0),u(0),S(!1),O(!1)},50)},[h]);r.useEffect(()=>{R()},[h]);const l=e=>j([...e]);async function V(e){for(let s=0;s<e.length-1;s++){for(let t=0;t<e.length-s-1;t++){if(p.current)return;e[t].state="comparing",e[t+1].state="comparing",l(e),f(n=>n+1),await c(),e[t].value>e[t+1].value&&([e[t],e[t+1]]=[e[t+1],e[t]],e[t].state="swapping",e[t+1].state="swapping",l(e),u(n=>n+1),await c()),e[t].state="default",e[t+1].state="default"}e[e.length-1-s].state="sorted",l(e)}e[0].state="sorted",l(e)}async function D(e){for(let s=0;s<e.length-1;s++){let t=s;e[s].state="comparing";for(let n=s+1;n<e.length;n++){if(p.current)return;e[n].state="comparing",l(e),f(i=>i+1),await c(),e[n].value<e[t].value?(t!==s&&(e[t].state="default"),t=n,e[t].state="pivot"):e[n].state="default",l(e)}t!==s&&([e[s],e[t]]=[e[t],e[s]],u(n=>n+1)),e[s].state="sorted",t!==s&&(e[t].state="default"),l(e),await c()}e[e.length-1].state="sorted",l(e)}async function L(e){e[0].state="sorted",l(e);for(let s=1;s<e.length;s++){if(p.current)return;const t=e[s];t.state="comparing",l(e),await c();let n=s-1;for(;n>=0&&e[n].value>t.value;){if(p.current)return;f(i=>i+1),e[n+1]=e[n],e[n+1].state="swapping",l(e),u(i=>i+1),await c(),e[n+1].state="sorted",n--}e[n+1]=t,e[n+1].state="sorted",l(e),await c()}}async function k(e,s=0,t=e.length-1){if(s>=t||p.current)return;const n=Math.floor((s+t)/2);await k(e,s,n),await k(e,n+1,t),await G(e,s,n,t)}async function G(e,s,t,n){const i=e.slice(s,t+1),a=e.slice(t+1,n+1);let d=0,x=0,g=s;for(;d<i.length&&x<a.length;){if(p.current)return;e[g].state="comparing",l(e),f(W=>W+1),await c(),i[d].value<=a[x].value?(e[g]={...i[d],state:"swapping"},d++):(e[g]={...a[x],state:"swapping"},x++),u(W=>W+1),l(e),await c(),e[g].state=n===e.length-1&&s===0?"sorted":"default",g++}for(;d<i.length;){if(p.current)return;e[g]={...i[d],state:"default"},d++,g++,l(e),await c()}for(;x<a.length;){if(p.current)return;e[g]={...a[x],state:"default"},x++,g++,l(e),await c()}}async function C(e,s=0,t=e.length-1){if(s>=t||p.current)return;const n=await H(e,s,t);if(n!==void 0){e[n].state="sorted",l(e),await C(e,s,n-1),await C(e,n+1,t);for(let i=s;i<=t;i++)e[i].state="sorted";l(e)}}async function H(e,s,t){const n=e[t].value;e[t].state="pivot",l(e);let i=s-1;for(let a=s;a<t;a++){if(p.current)return;e[a].state="comparing",l(e),f(d=>d+1),await c(),e[a].value<n&&(i++,[e[i],e[a]]=[e[a],e[i]],e[i].state="swapping",u(d=>d+1),l(e),await c(),e[i].state="default"),e[a].state="default"}return[e[i+1],e[t]]=[e[t],e[i+1]],u(a=>a+1),l(e),i+1}async function P(e){const s=e.length;for(let t=Math.floor(s/2)-1;t>=0;t--)await z(e,s,t);for(let t=s-1;t>0;t--){if(p.current)return;[e[0],e[t]]=[e[t],e[0]],e[0].state="swapping",e[t].state="swapping",l(e),u(n=>n+1),await c(),e[t].state="sorted",await z(e,t,0)}e[0].state="sorted",l(e)}async function z(e,s,t){let n=t;const i=2*t+1,a=2*t+2;p.current||(i<s&&(f(d=>d+1),e[i].value>e[n].value&&(n=i)),a<s&&(f(d=>d+1),e[a].value>e[n].value&&(n=a)),n!==t&&(e[t].state="comparing",e[n].state="comparing",l(e),await c(),[e[t],e[n]]=[e[n],e[t]],e[t].state="default",e[n].state="default",u(d=>d+1),l(e),await c(),await z(e,s,n)))}const Q=r.useCallback(async()=>{S(!0),O(!1),f(0),u(0),p.current=!1;const e=v.map(t=>({...t,state:"default"}));j(e),await{bubble:V,selection:D,insertion:L,merge:k,quick:C,heap:P}[b](e),p.current||(e.forEach(t=>t.state="sorted"),l(e),O(!0)),S(!1)},[v,b,c]),y=I[b];return o.jsxs("div",{style:{border:"1px solid var(--sl-color-gray-5)",borderRadius:"0.75rem",overflow:"hidden",margin:"1.5rem 0",background:"var(--sl-color-bg)"},children:[o.jsx("div",{style:{padding:"1rem 1.25rem",borderBottom:"1px solid var(--sl-color-gray-5)",background:"var(--sl-color-gray-6)"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"0.75rem"},children:[o.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:700},children:"Sorting Algorithm Visualizer"}),o.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:Object.keys(I).map(e=>o.jsx("button",{onClick:()=>!m&&E(e),disabled:m,style:{padding:"0.3rem 0.7rem",borderRadius:"0.375rem",border:b===e?"2px solid #0066cc":"1px solid var(--sl-color-gray-4)",background:b===e?"#0066cc":"transparent",color:b===e?"#fff":"var(--sl-color-text)",cursor:m?"not-allowed":"pointer",fontSize:"0.75rem",fontWeight:600,transition:"all 0.2s"},children:I[e].name},e))})]})}),o.jsx("div",{style:{padding:"1.5rem 1.25rem",display:"flex",alignItems:"flex-end",gap:2,height:260,justifyContent:"center"},children:v.map((e,s)=>o.jsx(U.div,{layout:!0,style:{flex:1,maxWidth:30,borderRadius:"3px 3px 0 0",background:A[e.state],minWidth:4},animate:{height:`${e.value/100*200}px`},transition:{duration:.1}},s))}),o.jsxs("div",{style:{padding:"0.75rem 1.25rem",borderTop:"1px solid var(--sl-color-gray-5)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"0.75rem"},children:[o.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[o.jsx("button",{onClick:Q,disabled:m,style:{padding:"0.5rem 1.2rem",borderRadius:"0.375rem",border:"none",background:"#10b981",color:"#fff",cursor:m?"not-allowed":"pointer",fontWeight:600,fontSize:"0.85rem"},children:m?"⏳ Sorting...":"▶ Sort"}),o.jsx("button",{onClick:R,style:{padding:"0.5rem 1rem",borderRadius:"0.375rem",border:"1px solid var(--sl-color-gray-4)",background:"transparent",color:"var(--sl-color-text)",cursor:"pointer",fontSize:"0.85rem"},children:"↺ New Array"}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.4rem",fontSize:"0.8rem",color:"var(--sl-color-gray-3)"},children:["Size: ",o.jsx("input",{type:"range",min:10,max:80,value:h,onChange:e=>!m&&B(+e.target.value),disabled:m,style:{width:80}}),o.jsx("span",{style:{minWidth:24},children:h})]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.4rem",fontSize:"0.8rem",color:"var(--sl-color-gray-3)"},children:["Speed: ",o.jsx("input",{type:"range",min:1,max:100,value:w,onChange:e=>T(+e.target.value),style:{width:80}})]})]}),o.jsxs("div",{style:{display:"flex",gap:"1rem",fontSize:"0.8rem"},children:[o.jsxs("span",{children:["Comparisons: ",o.jsx("strong",{children:q})]}),o.jsxs("span",{children:["Swaps: ",o.jsx("strong",{children:F})]}),N&&o.jsx("span",{style:{color:"#10b981",fontWeight:700},children:"Done!"})]})]}),o.jsxs("div",{style:{padding:"0.75rem 1.25rem",borderTop:"1px solid var(--sl-color-gray-5)",background:"var(--sl-color-gray-6)",display:"flex",gap:"1.5rem",flexWrap:"wrap",fontSize:"0.8rem"},children:[o.jsxs("span",{children:["Best: ",o.jsx("strong",{style:{color:"#10b981"},children:y.best})]}),o.jsxs("span",{children:["Average: ",o.jsx("strong",{style:{color:"#f59e0b"},children:y.avg})]}),o.jsxs("span",{children:["Worst: ",o.jsx("strong",{style:{color:"#ef4444"},children:y.worst})]}),o.jsxs("span",{children:["Space: ",o.jsx("strong",{children:y.space})]}),o.jsxs("span",{children:["Stable: ",o.jsx("strong",{children:y.stable?"Yes":"No"})]})]}),o.jsx("div",{style:{padding:"0.5rem 1.25rem",borderTop:"1px solid var(--sl-color-gray-5)",display:"flex",gap:"1rem",flexWrap:"wrap",fontSize:"0.75rem"},children:Object.entries(A).map(([e,s])=>o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.3rem"},children:[o.jsx("span",{style:{width:12,height:12,borderRadius:2,background:s,display:"inline-block"}}),e.charAt(0).toUpperCase()+e.slice(1)]},e))})]})}export{J as default};
