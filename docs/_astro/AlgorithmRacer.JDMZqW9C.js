import{j as n}from"./jsx-runtime.ClP7wGfN.js";import{r as p}from"./index.DK-fsZOb.js";import{m as A}from"./proxy.i6brGrIQ.js";const y={bubble:"Bubble Sort",selection:"Selection Sort",insertion:"Insertion Sort",merge:"Merge Sort",quick:"Quick Sort",heap:"Heap Sort"},u={bubble:"#ef4444",selection:"#f59e0b",insertion:"#10b981",merge:"#3b82f6",quick:"#8b5cf6",heap:"#ec4899"};function R(i){let d=0,l=0;const t=[...i];for(let r=0;r<t.length-1;r++)for(let o=0;o<t.length-r-1;o++)d++,t[o]>t[o+1]&&([t[o],t[o+1]]=[t[o+1],t[o]],l++);return{comparisons:d,swaps:l}}function z(i){let d=0,l=0;const t=[...i];for(let r=0;r<t.length-1;r++){let o=r;for(let s=r+1;s<t.length;s++)d++,t[s]<t[o]&&(o=s);o!==r&&([t[r],t[o]]=[t[o],t[r]],l++)}return{comparisons:d,swaps:l}}function C(i){let d=0,l=0;const t=[...i];for(let r=1;r<t.length;r++){const o=t[r];let s=r-1;for(;s>=0&&t[s]>o;)d++,t[s+1]=t[s],l++,s--;d++,t[s+1]=o}return{comparisons:d,swaps:l}}function W(i){let d=0,l=0;function t(r){if(r.length<=1)return r;const o=Math.floor(r.length/2),s=t(r.slice(0,o)),h=t(r.slice(o)),c=[];let g=0,f=0;for(;g<s.length&&f<h.length;)d++,s[g]<=h[f]?c.push(s[g++]):(c.push(h[f++]),l++);for(;g<s.length;)c.push(s[g++]);for(;f<h.length;)c.push(h[f++]);return c}return t([...i]),{comparisons:d,swaps:l}}function M(i){let d=0,l=0;function t(r,o,s){if(o>=s)return;const h=r[s];let c=o-1;for(let f=o;f<s;f++)d++,r[f]<h&&(c++,[r[c],r[f]]=[r[f],r[c]],l++);[r[c+1],r[s]]=[r[s],r[c+1]],l++;const g=c+1;t(r,o,g-1),t(r,g+1,s)}return t([...i],0,i.length-1),{comparisons:d,swaps:l}}function I(i){let d=0,l=0;const t=[...i];function r(o,s){let h=s;const c=2*s+1,g=2*s+2;c<o&&(d++,t[c]>t[h]&&(h=c)),g<o&&(d++,t[g]>t[h]&&(h=g)),h!==s&&([t[s],t[h]]=[t[h],t[s]],l++,r(o,h))}for(let o=Math.floor(t.length/2)-1;o>=0;o--)r(t.length,o);for(let o=t.length-1;o>0;o--)[t[0],t[o]]=[t[o],t[0]],l++,r(o,0);return{comparisons:d,swaps:l}}const F={bubble:R,selection:z,insertion:C,merge:W,quick:M,heap:I};function q(){const[i,d]=p.useState(500),[l,t]=p.useState(new Set(["bubble","merge","quick"])),[r,o]=p.useState([]),[s,h]=p.useState(!1),[c,g]=p.useState("random"),f=p.useCallback(()=>{let e;switch(c){case"sorted":e=Array.from({length:i},(a,m)=>m);break;case"reversed":e=Array.from({length:i},(a,m)=>i-m);break;case"nearly":{e=Array.from({length:i},(a,m)=>m);for(let a=0;a<i*.05;a++){const m=Math.floor(Math.random()*i),x=Math.floor(Math.random()*i);[e[m],e[x]]=[e[x],e[m]]}break}default:e=Array.from({length:i},()=>Math.floor(Math.random()*i*10))}return e},[i,c]),b=p.useCallback(()=>{h(!0),o([]);const e=f(),a=[];setTimeout(()=>{for(const m of l){const x=performance.now(),{comparisons:v,swaps:w}=F[m](e),k=performance.now()-x;a.push({algorithm:m,name:y[m],time:k,comparisons:v,swaps:w,color:u[m]})}a.sort((m,x)=>m.time-x.time),o(a),h(!1)},100)},[l,f]),j=e=>{t(a=>{const m=new Set(a);return m.has(e)?m.size>1&&m.delete(e):m.add(e),m})},S=Math.max(...r.map(e=>e.time),1);return n.jsxs("div",{style:{border:"1px solid var(--sl-color-gray-5)",borderRadius:"0.75rem",overflow:"hidden",margin:"1.5rem 0"},children:[n.jsxs("div",{style:{padding:"1rem 1.25rem",borderBottom:"1px solid var(--sl-color-gray-5)",background:"var(--sl-color-gray-6)"},children:[n.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:700},children:"Algorithm Race"}),n.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--sl-color-gray-3)"},children:"Compare sorting algorithms head-to-head with real performance metrics"})]}),n.jsxs("div",{style:{padding:"1.25rem"},children:[n.jsx("div",{style:{display:"flex",gap:"0.4rem",flexWrap:"wrap",marginBottom:"1rem"},children:Object.keys(y).map(e=>n.jsx("button",{onClick:()=>j(e),style:{padding:"0.3rem 0.7rem",borderRadius:"999px",border:l.has(e)?`2px solid ${u[e]}`:"1px solid var(--sl-color-gray-4)",background:l.has(e)?`${u[e]}15`:"transparent",color:l.has(e)?u[e]:"var(--sl-color-gray-3)",cursor:"pointer",fontSize:"0.75rem",fontWeight:600},children:y[e]},e))}),n.jsxs("div",{style:{display:"flex",gap:"1.5rem",alignItems:"center",flexWrap:"wrap",marginBottom:"1.25rem"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem"},children:["Array Size:",n.jsx("input",{type:"range",min:100,max:5e3,step:100,value:i,onChange:e=>d(+e.target.value),style:{width:120}}),n.jsx("span",{style:{fontFamily:"monospace",fontWeight:700,minWidth:45},children:i})]}),n.jsxs("div",{style:{display:"flex",gap:"0.3rem",alignItems:"center",fontSize:"0.85rem"},children:[n.jsx("span",{children:"Input:"}),["random","sorted","reversed","nearly"].map(e=>n.jsx("button",{onClick:()=>g(e),style:{padding:"0.2rem 0.5rem",borderRadius:"0.25rem",border:c===e?"2px solid #0066cc":"1px solid var(--sl-color-gray-4)",background:c===e?"#0066cc":"transparent",color:c===e?"#fff":"var(--sl-color-text)",cursor:"pointer",fontSize:"0.72rem",fontWeight:600},children:e.charAt(0).toUpperCase()+e.slice(1)},e))]}),n.jsx("button",{onClick:b,disabled:s,style:{padding:"0.5rem 1.5rem",borderRadius:"0.375rem",border:"none",background:s?"#6b7280":"#10b981",color:"#fff",cursor:s?"not-allowed":"pointer",fontWeight:700,fontSize:"0.9rem"},children:s?"â³ Racing...":"ðŸ Start Race!"})]}),r.length>0&&n.jsxs("div",{children:[n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",marginBottom:"1.5rem"},children:r.map((e,a)=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[n.jsx("div",{style:{width:28,height:28,borderRadius:"50%",background:a===0?"#f59e0b":"var(--sl-color-gray-5)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:900,color:a===0?"#fff":"var(--sl-color-gray-3)",flexShrink:0},children:a===0?"ðŸ†":a+1}),n.jsx("div",{style:{width:120,fontSize:"0.85rem",fontWeight:600,flexShrink:0,color:e.color},children:e.name}),n.jsx("div",{style:{flex:1,height:28,background:"var(--sl-color-gray-6)",borderRadius:"0.25rem",overflow:"hidden"},children:n.jsx(A.div,{initial:{width:0},animate:{width:`${Math.max(5,e.time/S*100)}%`},transition:{duration:.8,ease:"easeOut"},style:{height:"100%",background:e.color,borderRadius:"0.25rem",display:"flex",alignItems:"center",paddingLeft:"0.5rem"},children:n.jsxs("span",{style:{color:"#fff",fontSize:"0.72rem",fontWeight:700,whiteSpace:"nowrap"},children:[e.time.toFixed(2),"ms"]})})}),n.jsxs("div",{style:{fontSize:"0.72rem",color:"var(--sl-color-gray-3)",minWidth:140,textAlign:"right"},children:[e.comparisons.toLocaleString()," cmp / ",e.swaps.toLocaleString()," swp"]})]},e.algorithm))}),n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.8rem"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{borderBottom:"2px solid var(--sl-color-gray-5)"},children:[n.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Rank"}),n.jsx("th",{style:{textAlign:"left",padding:"0.5rem"},children:"Algorithm"}),n.jsx("th",{style:{textAlign:"right",padding:"0.5rem"},children:"Time (ms)"}),n.jsx("th",{style:{textAlign:"right",padding:"0.5rem"},children:"Comparisons"}),n.jsx("th",{style:{textAlign:"right",padding:"0.5rem"},children:"Swaps"}),n.jsx("th",{style:{textAlign:"right",padding:"0.5rem"},children:"vs Winner"})]})}),n.jsx("tbody",{children:r.map((e,a)=>n.jsxs("tr",{style:{borderBottom:"1px solid var(--sl-color-gray-5)"},children:[n.jsx("td",{style:{padding:"0.5rem",fontWeight:700},children:a===0?"ðŸ¥‡":a===1?"ðŸ¥ˆ":a===2?"ðŸ¥‰":`#${a+1}`}),n.jsx("td",{style:{padding:"0.5rem",color:e.color,fontWeight:600},children:e.name}),n.jsx("td",{style:{padding:"0.5rem",textAlign:"right",fontFamily:"monospace"},children:e.time.toFixed(3)}),n.jsx("td",{style:{padding:"0.5rem",textAlign:"right",fontFamily:"monospace"},children:e.comparisons.toLocaleString()}),n.jsx("td",{style:{padding:"0.5rem",textAlign:"right",fontFamily:"monospace"},children:e.swaps.toLocaleString()}),n.jsx("td",{style:{padding:"0.5rem",textAlign:"right",fontFamily:"monospace",color:a===0?"#10b981":"#ef4444"},children:a===0?"â€”":`${(e.time/r[0].time).toFixed(1)}x slower`})]},e.algorithm))})]})]}),r.length===0&&!s&&n.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"var(--sl-color-gray-3)"},children:'Select algorithms and click "Start Race" to compare their performance'})]})]})}export{q as default};
