import{j as t}from"./jsx-runtime.ClP7wGfN.js";import{r as m}from"./index.DK-fsZOb.js";import{m as j}from"./proxy.i6brGrIQ.js";import{A as R}from"./index.CMzh-1wI.js";const E=[{label:"Email",pattern:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}",flags:"g",testText:"Contact us at hello@example.com or support@company.org for more info. Invalid: user@.com"},{label:"URL",pattern:"https?://[\\w.-]+(?:\\.[a-zA-Z]{2,})(?:/[\\w./?&=-]*)?",flags:"g",testText:"Visit https://example.com or http://docs.site.org/page?q=1 for details. Not a URL: ftp://old.server"},{label:"IP Address",pattern:"\\b(?:\\d{1,3}\\.){3}\\d{1,3}\\b",flags:"g",testText:"Server at 192.168.1.1 and 10.0.0.255 responded. Invalid: 999.999.999.999 is not checked by this simple pattern."},{label:"Date (YYYY-MM-DD)",pattern:"\\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])",flags:"g",testText:"Events on 2024-01-15, 2024-12-31, and 2025-06-01. Invalid: 2024-13-01 or 2024-00-15."},{label:"Phone Number",pattern:"(?:\\+?1[-.]?)?\\(?\\d{3}\\)?[-.]?\\d{3}[-.]?\\d{4}",flags:"g",testText:"Call (555) 123-4567 or +1-800-555-0199 or 555.867.5309 for support."}],h=["#0066cc","#8b5cf6","#ec4899","#f59e0b","#10b981","#ef4444"],W="\\b[A-Z][a-z]+\\b",$="g",B="The quick Brown Fox jumps over the Lazy Dog. Alice and Bob met at the Park on a Sunny day.";function I(i=640){const[s,r]=m.useState(!1);return m.useEffect(()=>{const l=window.matchMedia(`(max-width: ${i}px)`);r(l.matches);const o=n=>r(n.matches);return l.addEventListener("change",o),()=>l.removeEventListener("change",o)},[i]),s}function A(i){const s=[];let r=0;const l={quantifier:"#f59e0b",charClass:"#8b5cf6",group:"#ec4899",anchor:"#10b981",escape:"#0066cc",alternation:"#ef4444",literal:"var(--sl-color-gray-3)"};for(;r<i.length;){const o=i[r];if(o==="\\"&&r+1<i.length){const n=i[r+1],c={d:"any digit [0-9]",D:"any non-digit",w:"any word character [a-zA-Z0-9_]",W:"any non-word character",s:"any whitespace",S:"any non-whitespace",b:"word boundary",B:"non-word boundary",n:"newline",t:"tab",".":"literal dot","\\":"literal backslash","(":"literal (",")":"literal )","[":"literal [","]":"literal ]","{":"literal {","}":"literal }","+":"literal +","*":"literal *","?":"literal ?","|":"literal |","^":"literal ^",$:"literal $"};s.push({token:`\\${n}`,explanation:c[n]||`escaped "${n}"`,color:n==="b"||n==="B"?l.anchor:l.escape}),r+=2;continue}if(o==="["){let n="[",c=r+1;for(c<i.length&&i[c]==="^"&&(n+="^",c++);c<i.length&&i[c]!=="]";)n+=i[c],c++;c<i.length&&(n+="]");const x=n.includes("[^")?"NOT ":"";s.push({token:n,explanation:`${x}character class: ${n}`,color:l.charClass}),r=c+1;continue}if(o==="("||o===")"){o==="("&&i.substring(r,r+3)==="(?:"?(s.push({token:"(?:",explanation:"non-capturing group start",color:l.group}),r+=3):o==="("&&i.substring(r,r+4)==="(?<="?(s.push({token:"(?<=",explanation:"positive lookbehind",color:l.group}),r+=4):o==="("&&i.substring(r,r+4)==="(?<!"?(s.push({token:"(?<!",explanation:"negative lookbehind",color:l.group}),r+=4):o==="("&&i.substring(r,r+3)==="(?="?(s.push({token:"(?=",explanation:"positive lookahead",color:l.group}),r+=3):o==="("&&i.substring(r,r+3)==="(?!"?(s.push({token:"(?!",explanation:"negative lookahead",color:l.group}),r+=3):(s.push({token:o,explanation:o==="("?"capturing group start":"group end",color:l.group}),r++);continue}if(o==="*"||o==="+"||o==="?"){const n=r+1<i.length&&i[r+1]==="?",c=o==="*"?"zero or more":o==="+"?"one or more":"zero or one";s.push({token:n?`${o}?`:o,explanation:`${c}${n?" (lazy)":" (greedy)"}`,color:l.quantifier}),r+=n?2:1;continue}if(o==="{"){let n="{",c=r+1;for(;c<i.length&&i[c]!=="}";)n+=i[c],c++;c<i.length&&(n+="}"),s.push({token:n,explanation:`repeat ${n}`,color:l.quantifier}),r=c+1;continue}if(o==="^"){s.push({token:"^",explanation:"start of line/string",color:l.anchor}),r++;continue}if(o==="$"){s.push({token:"$",explanation:"end of line/string",color:l.anchor}),r++;continue}if(o==="."){s.push({token:".",explanation:"any character (except newline)",color:l.charClass}),r++;continue}if(o==="|"){s.push({token:"|",explanation:"alternation (OR)",color:l.alternation}),r++;continue}s.push({token:o,explanation:`literal "${o}"`,color:l.literal}),r++}return s}function D(){const i=I(),[s,r]=m.useState(W),[l,o]=m.useState(B),[n,c]=m.useState($),[x,k]=m.useState(!0),S=[{flag:"g",label:"g",description:"Global"},{flag:"i",label:"i",description:"Case insensitive"},{flag:"m",label:"m",description:"Multiline"},{flag:"s",label:"s",description:"Dotall"}],w=e=>{c(a=>a.includes(e)?a.replace(e,""):a+e)},z=e=>{r(e.pattern),c(e.flags),o(e.testText)},{matches:g,error:u,regex:f}=m.useMemo(()=>{if(!s)return{matches:[],error:null,regex:null};try{const e=new RegExp(s,n),a=[];let d;if(n.includes("g"))for(;(d=e.exec(l))!==null;)a.push({text:d[0],index:d.index,groups:d.slice(1)}),d[0].length===0&&e.lastIndex++;else d=e.exec(l),d&&a.push({text:d[0],index:d.index,groups:d.slice(1)});return{matches:a,error:null,regex:e}}catch(e){return{matches:[],error:e.message,regex:null}}},[s,l,n]),y=m.useMemo(()=>{if(!f||g.length===0||!l)return null;const e=[];let a=0;for(let d=0;d<g.length;d++){const p=g[d];p.index>a&&e.push({text:l.slice(a,p.index),isMatch:!1,matchIndex:-1}),e.push({text:p.text,isMatch:!0,matchIndex:d}),a=p.index+p.text.length}return a<l.length&&e.push({text:l.slice(a),isMatch:!1,matchIndex:-1}),e},[f,g,l]),b=m.useMemo(()=>A(s),[s]),T=e=>({height:"1.75rem",display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:"999px",padding:"0 0.6rem",border:e?"2px solid #0066cc":"2px solid var(--sl-color-gray-4)",background:e?"#0066cc":"transparent",color:e?"#fff":"var(--sl-color-text)",cursor:"pointer",fontSize:"0.72rem",fontWeight:600,transition:"all 0.15s",minWidth:"2rem"}),v={width:"100%",padding:"0.6rem 0.8rem",borderRadius:"6px",border:u?"2px solid #ef4444":"1px solid var(--sl-color-gray-5)",background:"var(--sl-color-gray-7, #0d1117)",color:"var(--sl-color-text)",fontFamily:"monospace",fontSize:"0.9rem",outline:"none",boxSizing:"border-box"};return t.jsxs("div",{style:{border:"1px solid var(--sl-color-gray-5)",borderRadius:"0.75rem",overflow:"hidden",margin:"1.5rem 0"},children:[t.jsxs("div",{style:{padding:"1rem 1.25rem",borderBottom:"1px solid var(--sl-color-gray-5)",background:"var(--sl-color-gray-6)"},children:[t.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:700},children:"Regex Tester"}),t.jsx("p",{style:{margin:"0.25rem 0 0",fontSize:"0.8rem",color:"var(--sl-color-gray-3)"},children:"Test regular expressions with real-time matching, highlighting, and explanations"})]}),t.jsxs("div",{style:{padding:"1.25rem"},children:[t.jsxs("div",{style:{marginBottom:"1rem"},children:[t.jsx("div",{style:{fontSize:"0.7rem",fontWeight:700,color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Presets"}),t.jsx("div",{style:{display:"flex",gap:"0.35rem",flexWrap:"wrap"},children:E.map(e=>t.jsx("button",{onClick:()=>z(e),style:{padding:"0.35rem 0.7rem",borderRadius:"6px",border:"1px solid var(--sl-color-gray-5)",background:"var(--sl-color-gray-6)",color:"var(--sl-color-text)",cursor:"pointer",fontSize:"0.75rem",fontWeight:600,transition:"all 0.15s"},children:e.label},e.label))})]}),t.jsxs("div",{style:{marginBottom:"0.75rem"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.4rem"},children:[t.jsx("label",{style:{fontSize:"0.8rem",fontWeight:600},children:"Pattern"}),t.jsxs("div",{style:{display:"flex",gap:"0.3rem",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:"0.7rem",color:"var(--sl-color-gray-3)",marginRight:"0.3rem"},children:"Flags:"}),S.map(e=>t.jsx("button",{onClick:()=>w(e.flag),title:e.description,style:T(n.includes(e.flag)),children:e.label},e.flag))]})]}),t.jsxs("div",{style:{position:"relative"},children:[t.jsx("span",{style:{position:"absolute",left:"0.6rem",top:"50%",transform:"translateY(-50%)",color:"var(--sl-color-gray-4)",fontFamily:"monospace",fontSize:"1rem",pointerEvents:"none"},children:"/"}),t.jsx("input",{type:"text",value:s,onChange:e=>r(e.target.value),style:{...v,paddingLeft:"1.4rem",paddingRight:`${n.length*.6+1.4}rem`},placeholder:"Enter regex pattern..."}),t.jsxs("span",{style:{position:"absolute",right:"0.6rem",top:"50%",transform:"translateY(-50%)",color:"#0066cc",fontFamily:"monospace",fontSize:"0.9rem",fontWeight:600,pointerEvents:"none"},children:["/",n]})]}),u&&t.jsx(j.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},style:{marginTop:"0.35rem",padding:"0.4rem 0.6rem",borderRadius:"4px",background:"#ef444418",border:"1px solid #ef444440",fontSize:"0.75rem",color:"#ef4444",fontFamily:"monospace"},children:u})]}),t.jsxs("div",{style:{marginBottom:"1rem"},children:[t.jsx("label",{style:{fontSize:"0.8rem",fontWeight:600,display:"block",marginBottom:"0.4rem"},children:"Test String"}),t.jsx("textarea",{value:l,onChange:e=>o(e.target.value),rows:3,style:{...v,resize:"vertical",lineHeight:1.6},placeholder:"Enter text to test against..."})]}),t.jsxs("div",{style:{marginBottom:"1.25rem"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.4rem"},children:t.jsxs("div",{style:{fontSize:"0.7rem",fontWeight:700,color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.05em"},children:["Result (",g.length," match",g.length!==1?"es":"",")"]})}),t.jsx("div",{style:{padding:"0.75rem 0.9rem",borderRadius:"8px",background:"var(--sl-color-gray-7, #0d1117)",border:"1px solid var(--sl-color-gray-5)",fontFamily:"monospace",fontSize:"0.85rem",lineHeight:1.8,whiteSpace:"pre-wrap",wordBreak:"break-word",minHeight:"3rem"},children:y?y.map((e,a)=>e.isMatch?t.jsx("span",{style:{background:`${h[e.matchIndex%h.length]}35`,border:`1px solid ${h[e.matchIndex%h.length]}`,borderRadius:"3px",padding:"0.05rem 0.15rem"},children:e.text},a):t.jsx("span",{style:{color:"var(--sl-color-gray-3)"},children:e.text},a)):t.jsx("span",{style:{color:"var(--sl-color-gray-4)"},children:s?u?"Fix the pattern error to see results.":"No matches found.":"Enter a regex pattern above..."})})]}),g.length>0&&t.jsxs("div",{style:{marginBottom:"1.25rem"},children:[t.jsx("div",{style:{fontSize:"0.7rem",fontWeight:700,color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Match Details"}),t.jsx("div",{style:{maxHeight:180,overflowY:"auto",border:"1px solid var(--sl-color-gray-5)",borderRadius:"8px"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.78rem"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"2px solid var(--sl-color-gray-5)",background:"var(--sl-color-gray-6)"},children:[t.jsx("th",{style:{textAlign:"left",padding:"0.4rem 0.6rem",fontWeight:600},children:"#"}),t.jsx("th",{style:{textAlign:"left",padding:"0.4rem 0.6rem",fontWeight:600},children:"Match"}),t.jsx("th",{style:{textAlign:"left",padding:"0.4rem 0.6rem",fontWeight:600},children:"Index"}),g.some(e=>e.groups.length>0)&&t.jsx("th",{style:{textAlign:"left",padding:"0.4rem 0.6rem",fontWeight:600},children:"Groups"})]})}),t.jsx("tbody",{children:g.map((e,a)=>t.jsxs("tr",{style:{borderBottom:"1px solid var(--sl-color-gray-5)"},children:[t.jsx("td",{style:{padding:"0.4rem 0.6rem",color:"var(--sl-color-gray-4)"},children:a+1}),t.jsx("td",{style:{padding:"0.4rem 0.6rem"},children:t.jsx("span",{style:{fontFamily:"monospace",padding:"0.1rem 0.35rem",borderRadius:"3px",background:`${h[a%h.length]}25`,border:`1px solid ${h[a%h.length]}60`,color:h[a%h.length],fontWeight:600},children:e.text})}),t.jsx("td",{style:{padding:"0.4rem 0.6rem",fontFamily:"monospace",color:"var(--sl-color-gray-3)"},children:e.index}),g.some(d=>d.groups.length>0)&&t.jsx("td",{style:{padding:"0.4rem 0.6rem",fontFamily:"monospace",fontSize:"0.72rem"},children:e.groups.length>0?e.groups.map((d,p)=>t.jsxs("span",{style:{marginRight:"0.3rem",color:"#8b5cf6"},children:["$",p+1,": ",d||"(empty)"]},p)):"-"})]},a))})]})})]}),t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",marginBottom:"0.5rem"},onClick:()=>k(e=>!e),children:[t.jsx("div",{style:{fontSize:"0.7rem",fontWeight:700,color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Pattern Explanation"}),t.jsx("span",{style:{fontSize:"0.75rem",color:"var(--sl-color-gray-4)"},children:x?"Hide":"Show"})]}),t.jsx(R,{children:x&&s&&t.jsx(j.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},style:{overflow:"hidden"},children:t.jsxs("div",{style:{padding:"0.75rem 0.9rem",borderRadius:"8px",background:"var(--sl-color-gray-6)",border:"1px solid var(--sl-color-gray-5)"},children:[t.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.2rem",marginBottom:"0.75rem"},children:b.map((e,a)=>t.jsx("span",{title:e.explanation,style:{fontFamily:"monospace",padding:"0.15rem 0.35rem",borderRadius:"4px",background:`${e.color}18`,border:`1px solid ${e.color}50`,color:e.color,fontSize:"0.85rem",fontWeight:600,cursor:"default"},children:e.token},a))}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.2rem"},children:b.map((e,a)=>t.jsxs("div",{style:{display:"flex",alignItems:"baseline",gap:"0.6rem",fontSize:"0.75rem"},children:[t.jsx("code",{style:{fontFamily:"monospace",color:e.color,fontWeight:700,minWidth:i?50:70,flexShrink:0},children:e.token}),t.jsx("span",{style:{color:"var(--sl-color-gray-3)"},children:e.explanation})]},a))})]})})})]})]})]})}export{D as default};
