import{j as e}from"./jsx-runtime.ClP7wGfN.js";import{r as a}from"./index.DK-fsZOb.js";import{m as E}from"./proxy.i6brGrIQ.js";const k=[{label:"99%",value:99,nines:"Two nines"},{label:"99.5%",value:99.5,nines:"Two and a half nines"},{label:"99.9%",value:99.9,nines:"Three nines"},{label:"99.95%",value:99.95,nines:"Three and a half nines"},{label:"99.99%",value:99.99,nines:"Four nines"},{label:"99.999%",value:99.999,nines:"Five nines"}],O=[99,99.5,99.9,99.95,99.99,99.999];function L(t=640){const[d,f]=a.useState(!1);return a.useEffect(()=>{const i=window.matchMedia(`(max-width: ${t}px)`);f(i.matches);const g=v=>f(v.matches);return i.addEventListener("change",g),()=>i.removeEventListener("change",g)},[t]),d}function h(t){if(t<1){const i=t*60;return i<.01?`${(i*1e3).toFixed(2)}ms`:`${i.toFixed(2)}s`}if(t<60)return`${t.toFixed(2)} min`;const d=t/60;return d<24?`${d.toFixed(2)} hrs`:`${(d/24).toFixed(2)} days`}function w(t){return t>=99.999?"Five nines":t>=99.99?"Four nines":t>=99.95?"Three and a half nines":t>=99.9?"Three nines":t>=99.5?"Two and a half nines":t>=99?"Two nines":t>=90?"One nine":"Below one nine"}function A(t){return t>=99.999?5:t>=99.99?4:t>=99.95?3.5:t>=99.9?3:t>=99.5?2.5:t>=99?2:t>=90?1:0}function N(){L();const[t,d]=a.useState(99.9),[f,i]=a.useState("99.9"),[g,v]=a.useState(.5),[y,W]=a.useState(1e6),b=a.useCallback(r=>{const n=Math.min(99.999,Math.max(90,r));d(n),i(String(n))},[]),B=r=>{i(r);const n=parseFloat(r);!isNaN(n)&&n>=90&&n<=99.999&&d(n)},c=a.useMemo(()=>{const r=100-t,n=1440,s=n*30,l=n*365,p=r/100*n,u=r/100*s,m=r/100*l,j=Math.floor(r/100*y);return{errorBudgetPercent:r,downtimePerDay:p,downtimePerMonth:u,downtimePerYear:m,allowedFailures:j}},[t,y]),o=a.useMemo(()=>{const r=100-t,n=g,s=n/r,l=720*60,p=r/100*l,u=n/100,m=u>0?p/(u*l)*l:1/0,j=Math.min(100,s*100);return{rate:s,budgetConsumed:j,timeToExhaust:m,isOverBurning:s>1}},[t,g]),C=w(t),z=A(t),F=r=>({height:"1.75rem",display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:"999px",padding:"0 0.75rem",border:r?"2px solid #0066cc":"2px solid var(--sl-color-gray-4)",background:r?"#0066cc":"transparent",color:r?"#fff":"var(--sl-color-text)",cursor:"pointer",fontSize:"0.72rem",fontWeight:600,transition:"all 0.15s",whiteSpace:"nowrap"}),T=(r,n,s,l)=>({flex:"1 1 140px",padding:"0.7rem 0.8rem",borderRadius:"8px",background:`${l}10`,border:`1px solid ${l}40`}),S=r=>r>=99.99?"#10b981":r>=99.9?"#22d3ee":r>=99.5?"#0066cc":r>=99?"#f59e0b":"#ef4444",x=S(t),R=r=>r<=99?(r-90)/9*333:r<=99.9?333+(r-99)/.9*222:r<=99.99?555+(r-99.9)/.09*222:777+(r-99.99)/.009*223,M=r=>r<=333?90+r/333*9:r<=555?99+(r-333)/222*.9:r<=777?99.9+(r-555)/222*.09:99.99+(r-777)/223*.009,P=R(t);return e.jsxs("div",{style:{border:"1px solid var(--sl-color-gray-5)",borderRadius:"0.75rem",overflow:"hidden",margin:"1.5rem 0"},children:[e.jsxs("div",{style:{padding:"1rem 1.25rem",borderBottom:"1px solid var(--sl-color-gray-5)",background:"var(--sl-color-gray-6)"},children:[e.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:700},children:"SLO / Error Budget Calculator"}),e.jsx("p",{style:{margin:"0.25rem 0 0",fontSize:"0.8rem",color:"var(--sl-color-gray-3)"},children:"Calculate error budgets, allowed downtime, and burn rates for your service level objectives"})]}),e.jsxs("div",{style:{padding:"1.25rem"},children:[e.jsxs("div",{style:{marginBottom:"1.25rem"},children:[e.jsx("div",{style:{fontSize:"0.7rem",fontWeight:700,color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"SLO Target"}),e.jsx("div",{style:{display:"flex",gap:"0.35rem",flexWrap:"wrap",marginBottom:"0.75rem"},children:k.map(r=>e.jsx("button",{onClick:()=>b(r.value),style:F(Math.abs(t-r.value)<.001),children:r.label},r.label))}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.5rem"},children:[e.jsx("input",{type:"range",min:0,max:1e3,value:P,onChange:r=>{const n=M(Number(r.target.value)),s=Math.round(n*1e3)/1e3;b(s)},style:{flex:1,accentColor:x}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.3rem"},children:[e.jsx("input",{type:"text",value:f,onChange:r=>B(r.target.value),style:{width:80,padding:"0.35rem 0.5rem",borderRadius:"6px",border:"1px solid var(--sl-color-gray-5)",background:"var(--sl-color-gray-7, #0d1117)",color:"var(--sl-color-text)",fontFamily:"monospace",fontSize:"0.9rem",fontWeight:700,textAlign:"center"}}),e.jsx("span",{style:{fontSize:"0.9rem",fontWeight:700},children:"%"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",flexWrap:"wrap"},children:[e.jsxs("div",{style:{padding:"0.4rem 0.8rem",borderRadius:"8px",background:`${x}15`,border:`1.5px solid ${x}`,fontSize:"0.82rem",fontWeight:700,color:x},children:[C," (",z," 9s)"]}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--sl-color-gray-3)"},children:["Error Budget: ",e.jsxs("strong",{style:{color:x},children:[c.errorBudgetPercent.toFixed(3),"%"]})]})]})]}),e.jsxs("div",{style:{marginBottom:"1.25rem"},children:[e.jsx("div",{style:{fontSize:"0.7rem",fontWeight:700,color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Allowed Downtime"}),e.jsx("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[{label:"Per Day",value:h(c.downtimePerDay),raw:c.downtimePerDay,color:"#0066cc"},{label:"Per Month",value:h(c.downtimePerMonth),raw:c.downtimePerMonth,color:"#8b5cf6"},{label:"Per Year",value:h(c.downtimePerYear),raw:c.downtimePerYear,color:"#ec4899"}].map(r=>e.jsxs("div",{style:T(r.label,r.value,"",r.color),children:[e.jsx("div",{style:{fontSize:"0.65rem",fontWeight:600,color:"var(--sl-color-gray-3)",textTransform:"uppercase",marginBottom:"0.25rem"},children:r.label}),e.jsx("div",{style:{fontSize:"1.15rem",fontWeight:800,color:r.color,fontFamily:"monospace"},children:r.value})]},r.label))})]}),e.jsxs("div",{style:{marginBottom:"1.25rem"},children:[e.jsx("div",{style:{fontSize:"0.7rem",fontWeight:700,color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Allowed Failures"}),e.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",flexWrap:"wrap"},children:[e.jsxs("div",{style:{padding:"0.6rem 1rem",borderRadius:"8px",background:"#f59e0b12",border:"1px solid #f59e0b40"},children:[e.jsx("div",{style:{fontSize:"0.65rem",fontWeight:600,color:"var(--sl-color-gray-3)",textTransform:"uppercase",marginBottom:"0.2rem"},children:"Failed Requests / Month"}),e.jsx("div",{style:{fontSize:"1.3rem",fontWeight:800,color:"#f59e0b",fontFamily:"monospace"},children:c.allowedFailures.toLocaleString()}),e.jsxs("div",{style:{fontSize:"0.68rem",color:"var(--sl-color-gray-3)",marginTop:"0.15rem"},children:["out of ",y.toLocaleString()," requests"]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.3rem"},children:[e.jsx("label",{style:{fontSize:"0.75rem",fontWeight:600,color:"var(--sl-color-gray-3)"},children:"Monthly Requests:"}),e.jsxs("select",{value:y,onChange:r=>W(Number(r.target.value)),style:{padding:"0.35rem 0.5rem",borderRadius:"6px",border:"1px solid var(--sl-color-gray-5)",background:"var(--sl-color-gray-7, #0d1117)",color:"var(--sl-color-text)",fontSize:"0.8rem"},children:[e.jsx("option",{value:1e4,children:"10,000"}),e.jsx("option",{value:1e5,children:"100,000"}),e.jsx("option",{value:1e6,children:"1,000,000"}),e.jsx("option",{value:1e7,children:"10,000,000"}),e.jsx("option",{value:1e8,children:"100,000,000"}),e.jsx("option",{value:1e9,children:"1,000,000,000"})]})]})]})]}),e.jsxs("div",{style:{marginBottom:"1.25rem"},children:[e.jsx("div",{style:{fontSize:"0.7rem",fontWeight:700,color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"Burn Rate Calculator"}),e.jsxs("div",{style:{padding:"0.9rem",borderRadius:"8px",background:"var(--sl-color-gray-6)",border:"1px solid var(--sl-color-gray-5)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"0.75rem",flexWrap:"wrap"},children:[e.jsx("label",{style:{fontSize:"0.8rem",fontWeight:600,whiteSpace:"nowrap"},children:"Current Error Rate:"}),e.jsx("input",{type:"range",min:0,max:5,step:.01,value:g,onChange:r=>v(Number(r.target.value)),style:{flex:1,minWidth:100,accentColor:o.isOverBurning?"#ef4444":"#10b981"}}),e.jsxs("span",{style:{fontFamily:"monospace",fontWeight:700,fontSize:"0.9rem",color:o.isOverBurning?"#ef4444":"#10b981",minWidth:55,textAlign:"right"},children:[g.toFixed(2),"%"]})]}),e.jsxs("div",{style:{marginBottom:"0.75rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.3rem"},children:[e.jsx("span",{style:{fontSize:"0.72rem",color:"var(--sl-color-gray-3)"},children:"Budget Consumption"}),e.jsxs("span",{style:{fontSize:"0.82rem",fontWeight:700,fontFamily:"monospace",color:o.isOverBurning?"#ef4444":o.budgetConsumed>70?"#f59e0b":"#10b981"},children:[o.budgetConsumed.toFixed(1),"%"]})]}),e.jsxs("div",{style:{height:16,borderRadius:8,background:"var(--sl-color-gray-5)",overflow:"hidden",position:"relative"},children:[e.jsx(E.div,{animate:{width:`${Math.min(100,o.budgetConsumed)}%`},transition:{duration:.3},style:{height:"100%",borderRadius:8,background:o.isOverBurning?"linear-gradient(90deg, #ef4444, #dc2626)":o.budgetConsumed>70?"linear-gradient(90deg, #f59e0b, #ea580c)":"linear-gradient(90deg, #10b981, #059669)"}}),e.jsx("div",{style:{position:"absolute",right:0,top:-3,bottom:-3,width:2,background:"#ef4444"}})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"0.15rem",fontSize:"0.6rem",color:"var(--sl-color-gray-4)"},children:[e.jsx("span",{children:"0%"}),e.jsx("span",{children:"50%"}),e.jsx("span",{children:"100%"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[e.jsxs("div",{style:{flex:"1 1 120px",padding:"0.5rem 0.7rem",borderRadius:"6px",background:o.isOverBurning?"#ef444415":"#10b98115",border:`1px solid ${o.isOverBurning?"#ef444440":"#10b98140"}`},children:[e.jsx("div",{style:{fontSize:"0.62rem",fontWeight:600,color:"var(--sl-color-gray-3)",textTransform:"uppercase"},children:"Burn Rate"}),e.jsxs("div",{style:{fontSize:"1.1rem",fontWeight:800,fontFamily:"monospace",color:o.isOverBurning?"#ef4444":"#10b981"},children:[o.rate.toFixed(2),"x"]}),e.jsx("div",{style:{fontSize:"0.62rem",color:"var(--sl-color-gray-4)"},children:o.isOverBurning?"Exceeding budget!":"Within budget"})]}),e.jsxs("div",{style:{flex:"1 1 140px",padding:"0.5rem 0.7rem",borderRadius:"6px",background:"var(--sl-color-gray-7, #0d1117)",border:"1px solid var(--sl-color-gray-5)"},children:[e.jsx("div",{style:{fontSize:"0.62rem",fontWeight:600,color:"var(--sl-color-gray-3)",textTransform:"uppercase"},children:"Budget Exhausted In"}),e.jsx("div",{style:{fontSize:"1.1rem",fontWeight:800,fontFamily:"monospace",color:o.timeToExhaust<1440?"#ef4444":o.timeToExhaust<10080?"#f59e0b":"var(--sl-color-text)"},children:o.rate===0?"Never":h(o.timeToExhaust)}),e.jsx("div",{style:{fontSize:"0.62rem",color:"var(--sl-color-gray-4)"},children:"at current error rate"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.7rem",fontWeight:700,color:"var(--sl-color-gray-3)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"SLO Comparison Table"}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.78rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"2px solid var(--sl-color-gray-5)",background:"var(--sl-color-gray-6)"},children:[e.jsx("th",{style:{textAlign:"left",padding:"0.5rem 0.6rem",fontWeight:700},children:"SLO"}),e.jsx("th",{style:{textAlign:"left",padding:"0.5rem 0.6rem",fontWeight:700},children:"Nines"}),e.jsx("th",{style:{textAlign:"right",padding:"0.5rem 0.6rem",fontWeight:700},children:"Downtime/Day"}),e.jsx("th",{style:{textAlign:"right",padding:"0.5rem 0.6rem",fontWeight:700},children:"Downtime/Month"}),e.jsx("th",{style:{textAlign:"right",padding:"0.5rem 0.6rem",fontWeight:700},children:"Downtime/Year"})]})}),e.jsx("tbody",{children:O.map(r=>{const n=100-r,s=n/100*1440,l=n/100*43200,p=n/100*525600,u=Math.abs(t-r)<.001,m=S(r);return e.jsxs("tr",{style:{borderBottom:"1px solid var(--sl-color-gray-5)",background:u?`${m}12`:"transparent",cursor:"pointer"},onClick:()=>b(r),children:[e.jsxs("td",{style:{padding:"0.5rem 0.6rem"},children:[e.jsxs("span",{style:{fontWeight:700,color:m,fontFamily:"monospace"},children:[r,"%"]}),u&&e.jsx("span",{style:{marginLeft:"0.4rem",padding:"0.1rem 0.35rem",borderRadius:"4px",background:`${m}25`,fontSize:"0.6rem",fontWeight:700,color:m},children:"CURRENT"})]}),e.jsx("td",{style:{padding:"0.5rem 0.6rem",color:"var(--sl-color-gray-3)"},children:w(r)}),e.jsx("td",{style:{padding:"0.5rem 0.6rem",textAlign:"right",fontFamily:"monospace",fontWeight:600},children:h(s)}),e.jsx("td",{style:{padding:"0.5rem 0.6rem",textAlign:"right",fontFamily:"monospace",fontWeight:600},children:h(l)}),e.jsx("td",{style:{padding:"0.5rem 0.6rem",textAlign:"right",fontFamily:"monospace",fontWeight:600},children:h(p)})]},r)})})]})})]})]})]})}export{N as default};
